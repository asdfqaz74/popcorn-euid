import"./tailwind-ouJN7DSI.js";import{r as l,a as c,t as B}from"./css-LUmow4Y_.js";import{g as t,a as V}from"./delay-g6vF19wW.js";import{s as p}from"./storage-eNv634Ip.js";import{p as U}from"./pocketbase-UOLpUAtS.js";const L=t(".button-goBack"),E=t(".button-moveBack"),v=t(".signUp-container"),I=t(".signUp-form-before");function C(){history.back()}function P(){v.style.transform="translateX(0%)"}L.addEventListener("click",C);E.addEventListener("click",P);I.addEventListener("submit",e=>{e.preventDefault(),v.style.transform="translateX(-50%)"});const x=document.getElementById("phoneNumber"),s=t(".signUp-button-verify"),a=document.getElementById("agree"),A=/^010\d{4}\d{4}$/,d=t(".signUp-errorMsg");function S(e){const n=e.target.value;console.log(n),A.test(n)?(l(s,"text-gray-500"),c(s,"signUp-verify-valid"),s.removeAttribute("disabled"),d.style.display="none"):(l(s,"signUp-verify-valid"),s.setAttribute("disabled",""),d.style.display="block",d.textContent="í•¸ë“œí° ë²ˆí˜¸ë¥¼ ì œëŒ€ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”")}x.addEventListener("input",S);const w=Math.floor(Math.random()*9e5)+1e5;sessionStorage.setItem("verifyNumber",w);const b=sessionStorage.getItem("verifyNumber");function N(){Array.from(s.classList).includes("signUp-verify-valid")&&alert(b)}async function M(){const e=t(".signUp-input-phoneNumber").value;if((await U.collection("users").getFullList("phoneNumber")).map(u=>u.phoneNumber).includes(e))alert("ì´ë¯¸ íšŒì›ê°€ì… ëœ ë²ˆí˜¸ì…ë‹ˆë‹¤. ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤! ğŸ˜ƒ"),window.location.href="/src/pages/login/";else{N();const u=Math.floor(Math.random()*9e3)+1e3;p("userName",u),p("phoneNumber",e);const h=t(".signUp-input-after"),k=localStorage.getItem("phoneNumber");h.textContent=JSON.parse(k)}}s.addEventListener("click",M);const $=t(".signUp-input-verifyNumber"),m=t(".signUp-errorMsg-second");function F(e){const n=e.target.value;b===n?(m.style.display="none",l(a,"bg-gray-500"),B(a,"bg-tertiary")):(m.style.display="block",m.textContent="ì¸ì¦ë²ˆí˜¸ë¥¼ ì œëŒ€ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”",l(a,"bg-tertiary"),c(a,"bg-gray-500"))}$.addEventListener("input",F);async function R(){Array.from(a.classList).includes("bg-tertiary")?window.location.href="/src/pages/category/":alert("ì¸ì¦ë²ˆí˜¸ê°€ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤.")}a.addEventListener("click",R);const i=t(".signUp-button-Reverify"),T=V(".timer-button");let g=null,f=!1;function X(){const e=t(".target__time"),n=60;f?(clearInterval(g),e.textContent="",y(n,e),N()):y(n,e)}function y(e,n){let r,o;g=setInterval(function(){r=parseInt(e/60,10),o=parseInt(e%60,10),r=r<10?"0"+r:r,o=o<10?"0"+o:o,n.textContent=`${r} : ${o}`,--e<0&&(clearInterval(g),c(i,"bg-gray-500"),c(i,"text-background"),alert("ì‹œê°„ì´ˆê³¼! ì¸ì¦ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ë°›ì•„ì£¼ì„¸ìš” â³"),f=!1)},1e3),f=!0}T.forEach(e=>{e.addEventListener("click",X)});function _(){Array.from(i.classList).includes("bg-gray-500")&&Array.from(i.classList).includes("text-background")&&alert(b)}i.addEventListener("click",_);
